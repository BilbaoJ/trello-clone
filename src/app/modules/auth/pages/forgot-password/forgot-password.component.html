<main class="w-screen h-screen bg-white relative">
  <app-background></app-background>
  <section class="relative w-10/12 md:w-5/12 lg:w-3/12 m-auto">
    <app-header></app-header>
    <div class="pb-4 px-6">
      <div class="mb-4">
        <h1 class="text-center font-semibold pt-4 pb-4 text-gray-800">
          ¿No puedes iniciar sesión?
        </h1>
        @if (emailSent()) {
          <figure class="flex justify-center py-4">
            <img src="/assets/logo/svg/check-email.svg" alt="emailSent" class="w-40">
          </figure>
          <p class="text-center">Te enviamos un link para recuperar tu contraseña</p>
          <p class="font-bold text-center">{{ form.controls.email.value }}</p>
        } @else {
          <form nonvalidate [formGroup]="form" class="space-y-4" (ngSubmit)="sendLink()">
            <div>
              <div class="relative">
                <label class="text-xs text-gray-700 font-semibold" for="email">Le enviaremos un enlace  de recuperación a</label>
                <input
                  formControlName="email"
                  placeholder="Ingrese su correo electrónico"
                  type="email"
                  class="w-full rounded border-2 border-gray-300 text-sm"
                />
              </div>
              @if (form.controls.email.touched && form.controls.email.invalid) {
                <div>
                  @if (form.controls.email.hasError('required')) {
                    <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                      Este campo es obligatorio
                    </p>
                  } @else if (form.controls.email.hasError('email')){
                    <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                      Ingrese un correo valido
                    </p>
                  }
                </div>
              }
            </div>
            <div>
              <app-btn [typeBtn]="'submit'" [color]="'primary'">Enviar enlace de recuperación</app-btn>
            </div>
          </form>
        }

      </div>
      <div>
        <ul class="flex space-x-2 justify-center text-center">
          <li>
            <a routerLink="/login" class="text-sm text-blue-600 hover:underline">Regresar al inicio de sesión</a>
          </li>
        </ul>
      </div>
    </div>
    <app-footer></app-footer>
  </section>
</main>
